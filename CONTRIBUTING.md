# Вклад в проект

## Правила качества

### 1. Принципы
- **Простота и явность**: минимальная вложенность, читаемые имена, отсутствие «магии».
- **Одна ответственность**: модуль, файл и функция делают что-то одно.
- **Явные контракты**: определяйте входы/выходы и проверяйте граничные условия.
- **Воспроизводимость**: избегайте скрытых эффектов и недетерминированности.
- **Осознанная оптимизация**: сначала метрики, потом ускорение.

### 2. Структура
- Разделяйте домен, инфраструктуру и UI (`features/`, `shared/` и т.п.).
- Внешние границы (API/БД/IO) отделяйте от бизнес-логики.
- Публичное API модуля минимально: экспортируйте только необходимое.

### 3. Стиль и именование
- Говорящие предметные имена (`calculateOverpayment`, `fetchUser`).
- Константы и единицы измерения явны (`amountRub`, `ratePctPerDay`).
- Форматирование и линтинг обязательны.

### 4. Ошибки и логирование
- Ошибки — данные. Возвращайте информативные сообщения, не глушите исключения.
- Логируйте только полезное для отладки, без секретов.

### 5. Производительность
- Избегайте квадратичных алгоритмов на больших данных.
- Не дублируйте тяжёлые структуры, кэшируйте с инвалидацией.
- Используйте потоковую обработку и пагинацию.

### 6. Тестирование
- Юнит-тесты для чистых функций и критичных веток.
- Интеграционные тесты на границах (БД, API, файловая система).
- «Баг → тест → фикс» — регрессии обязательно покрываем.

### 7. Безопасность
- Конфиги и секреты — только через переменные окружения; `.env` не коммитим.
- Валидация входных данных (тип, диапазон, формат).
- Защита от инъекций, экранирование, параметризованные запросы.

### 8. Документация
- README с инструкцией по запуску, конфигам и краткой архитектурой.
- Комментарии объясняют «почему», а не «что».
- ADR — по необходимости для значимых решений.

### 9. Git-практики
- Ветки: `feature/...`, `fix/...`, `refactor/...` — осмысленные названия.
- Коммиты и PR на русском. Формат:
  ```
  <тип>: кратко по делу [#issue]

  детали при необходимости
  ```
- PR содержит разделы «что сделано» и «как проверять» плюс чеклист (линты, тесты, миграции, доки).

### 10. Чеклист перед пушем
- [ ] Структура и имена понятны без дополнительного контекста.
- [ ] Функции короткие, цикломатическая сложность разумная.
- [ ] Нет временного кода (`console.log`, закомментированный мусор).
- [ ] Форматтер, линтер, типы и тесты — зелёные.
- [ ] Секреты не попали в VCS; `.env.example` актуален.
- [ ] Документация и миграции обновлены при необходимости.

## Поток работы с git
- Ветки: `feature/...`, `fix/...`, `refactor/...`.
- Коммиты и PR — на русском языке.
- Перед PR прогоняйте линтер, форматтер, типы и тесты.

## Секреты и конфиги
- `.env` не коммитим, используем `.env.example`.
- Все переменные окружения описываем в README.

## Тесты
- Юнит — на чистые функции.
- Интеграционные — на границы системы.
- Любой найденный баг сопровождаем тестом.
